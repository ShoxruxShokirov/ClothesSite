(()=>{var e={};e.id=983,e.ids=[983],e.modules={134:(e,r,t)=>{"use strict";t.d(r,{$G:()=>s,Tr:()=>a});let s=(e,r)=>{if(document.cookie=`session=${e}; path=/; max-age=2592000; secure; samesite=strict`,r){let e=JSON.stringify(r);document.cookie=`userData=${encodeURIComponent(e)}; path=/; max-age=2592000; secure; samesite=strict`}},a=()=>{document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure; samesite=strict",document.cookie="userData=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure; samesite=strict"}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4233:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(5239),a=t(8088),o=t(8170),n=t.n(o),i=t(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d={children:["",{children:["auth",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4943)),"C:\\Users\\User\\Documents\\Proba\\ClothesSite\\frontend\\src\\app\\auth\\register\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9769)),"C:\\Users\\User\\Documents\\Proba\\ClothesSite\\frontend\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,3867)),"C:\\Users\\User\\Documents\\Proba\\ClothesSite\\frontend\\src\\app\\not-found.jsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\User\\Documents\\Proba\\ClothesSite\\frontend\\src\\app\\auth\\register\\page.jsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/register/page",pathname:"/auth/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4943:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Documents\\\\Proba\\\\ClothesSite\\\\frontend\\\\src\\\\app\\\\auth\\\\register\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Documents\\Proba\\ClothesSite\\frontend\\src\\app\\auth\\register\\page.jsx","default")},4965:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var s=t(687),a=t(5814),o=t.n(a),n=t(4245),i=t(3210),l=t(5011),d=t(8222),c=t(6189),u=t(146),p=t(9587),m=t(134);let h=function(){let[e,r]=(0,i.useState)({firstName:"",lastName:"",email:"",password:"",password2:""}),[t,a]=(0,i.useState)(null),[h,f]=(0,i.useState)(null),[x,g]=(0,i.useState)(!1),j=(0,i.useRef)(null),b=(0,c.useRouter)();function v(t){r({...e,[t.target.name]:t.target.value})}async function w(r){r.preventDefault(),g(!0);try{for(let r in e)if(""===e[r]){d.oR.error(`Please fill in ${r.replace(/([A-Z])/g," $1").toLowerCase()}`,{theme:"dark"}),g(!1);return}if(e.password!==e.password2){d.oR.error("Passwords do not match",{theme:"dark"}),g(!1);return}let r=(await (0,n.eJ)(l.j,e.email,e.password)).user,s=`${e.firstName} ${e.lastName}`,a=null;if(t){let e=await function(e,r=800,t=800,s=.8){return new Promise(a=>{let o=new Image;o.src=URL.createObjectURL(e),o.onload=()=>{let n=document.createElement("canvas"),i=o.width,l=o.height;i>l?i>r&&(l=Math.round(l*r/i),i=r):l>t&&(i=Math.round(i*t/l),l=t),n.width=i,n.height=l,n.getContext("2d").drawImage(o,0,0,i,l),n.toBlob(e=>{URL.revokeObjectURL(o.src),a(e)},e.type,s)}})}(t),s=(0,u.KR)(l.I,`profile_photos/${r.uid}`),o=(0,u.bp)(s,e);await new Promise((e,r)=>{o.on("state_changed",e=>{let r=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+r+"% done")},e=>{console.error("Upload error:",e),r(e)},async()=>{a=await (0,u.qk)(o.snapshot.ref),e()})})}await (0,n.r7)(r,{displayName:s,photoURL:a||null});let o={displayName:s,email:e.email,photoURL:a||null,emailVerified:r.emailVerified};(0,m.$G)(r.uid,o),d.oR.success("Account created successfully!",{theme:"dark"}),b.push("/")}catch(e){console.error("Registration error:",e),d.oR.error(e.message,{theme:"dark"})}finally{g(!1)}}return(0,s.jsxs)("div",{className:"auth-container auth-signup-container",children:[(0,s.jsx)("h1",{children:"Sign Up"}),(0,s.jsxs)("form",{onSubmit:w,children:[(0,s.jsxs)("div",{className:"photo-upload-container",children:[(0,s.jsx)("div",{className:"photo-preview",onClick:function(){j.current.click()},style:{backgroundImage:h?`url(${h})`:"none",cursor:"pointer"},children:!h&&(0,s.jsxs)("div",{className:"upload-icon",children:[(0,s.jsx)(p.HVe,{}),(0,s.jsx)("span",{children:"Upload Photo"})]})}),(0,s.jsx)("input",{type:"file",ref:j,onChange:function(e){let r=e.target.files[0];if(r){a(r);let e=new FileReader;e.onload=()=>{f(e.result)},e.readAsDataURL(r)}},accept:"image/*",style:{display:"none"}})]}),(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{htmlFor:"firstName",children:"First Name"}),(0,s.jsx)("input",{id:"firstName",type:"text",placeholder:"First Name",name:"firstName",onChange:v,required:!0})]}),(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),(0,s.jsx)("input",{id:"lastName",type:"text",placeholder:"Last Name",name:"lastName",onChange:v,required:!0})]}),(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",placeholder:"Email",name:"email",onChange:v,required:!0})]}),(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{htmlFor:"password",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",placeholder:"Password",name:"password",onChange:v,required:!0})]}),(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{htmlFor:"password2",children:"Password confirmation"}),(0,s.jsx)("input",{id:"password2",type:"password",placeholder:"Password confirmation",name:"password2",onChange:v,required:!0})]}),(0,s.jsx)("div",{className:"form-field",children:(0,s.jsx)("button",{type:"submit",disabled:x,children:x?"Creating Account...":"Create Account"})})]}),(0,s.jsx)("p",{children:(0,s.jsxs)("small",{children:["Already have an account? ",(0,s.jsx)(o(),{href:"/auth/login",children:"Login"})]})})]})}},6640:(e,r,t)=>{Promise.resolve().then(t.bind(t,4965))},6912:(e,r,t)=>{Promise.resolve().then(t.bind(t,4943))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[914,851],()=>t(4233));module.exports=s})();