(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{1983:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>p});var t=s(5155),r=s(6874),i=s.n(r),o=s(6203),l=s(2115),n=s(8005),c=s(5799),d=s(5695),u=s(858),m=s(9911),h=s(4832);let p=function(){let[e,a]=(0,l.useState)({firstName:"",lastName:"",email:"",password:"",password2:""}),[s,r]=(0,l.useState)(null),[p,f]=(0,l.useState)(null),[g,x]=(0,l.useState)(!1),j=(0,l.useRef)(null),w=(0,d.useRouter)();function b(s){a({...e,[s.target.name]:s.target.value})}async function N(a){a.preventDefault(),x(!0);try{for(let a in e)if(""===e[a]){c.oR.error("Please fill in ".concat(a.replace(/([A-Z])/g," $1").toLowerCase()),{theme:"dark"}),x(!1);return}if(e.password!==e.password2){c.oR.error("Passwords do not match",{theme:"dark"}),x(!1);return}let a=(await (0,o.eJ)(n.j,e.email,e.password)).user,t="".concat(e.firstName," ").concat(e.lastName),r=null;if(s){let e=await function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;return new Promise(r=>{let i=new Image;i.src=URL.createObjectURL(e),i.onload=()=>{let o=document.createElement("canvas"),l=i.width,n=i.height;l>n?l>a&&(n=Math.round(n*a/l),l=a):n>s&&(l=Math.round(l*s/n),n=s),o.width=l,o.height=n,o.getContext("2d").drawImage(i,0,0,l,n),o.toBlob(e=>{URL.revokeObjectURL(i.src),r(e)},e.type,t)}})}(s),t=(0,u.KR)(n.I,"profile_photos/".concat(a.uid)),i=(0,u.bp)(t,e);await new Promise((e,a)=>{i.on("state_changed",e=>{let a=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+a+"% done")},e=>{console.error("Upload error:",e),a(e)},async()=>{r=await (0,u.qk)(i.snapshot.ref),e()})})}await (0,o.r7)(a,{displayName:t,photoURL:r||null});let i={displayName:t,email:e.email,photoURL:r||null,emailVerified:a.emailVerified};(0,h.$G)(a.uid,i),c.oR.success("Account created successfully!",{theme:"dark"}),w.push("/")}catch(e){console.error("Registration error:",e),c.oR.error(e.message,{theme:"dark"})}finally{x(!1)}}return(0,t.jsxs)("div",{className:"auth-container auth-signup-container",children:[(0,t.jsx)("h1",{children:"Sign Up"}),(0,t.jsxs)("form",{onSubmit:N,children:[(0,t.jsxs)("div",{className:"photo-upload-container",children:[(0,t.jsx)("div",{className:"photo-preview",onClick:function(){j.current.click()},style:{backgroundImage:p?"url(".concat(p,")"):"none",cursor:"pointer"},children:!p&&(0,t.jsxs)("div",{className:"upload-icon",children:[(0,t.jsx)(m.HVe,{}),(0,t.jsx)("span",{children:"Upload Photo"})]})}),(0,t.jsx)("input",{type:"file",ref:j,onChange:function(e){let a=e.target.files[0];if(a){r(a);let e=new FileReader;e.onload=()=>{f(e.result)},e.readAsDataURL(a)}},accept:"image/*",style:{display:"none"}})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{htmlFor:"firstName",children:"First Name"}),(0,t.jsx)("input",{id:"firstName",type:"text",placeholder:"First Name",name:"firstName",onChange:b,required:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),(0,t.jsx)("input",{id:"lastName",type:"text",placeholder:"Last Name",name:"lastName",onChange:b,required:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",placeholder:"Email",name:"email",onChange:b,required:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{htmlFor:"password",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",placeholder:"Password",name:"password",onChange:b,required:!0})]}),(0,t.jsxs)("div",{className:"form-field",children:[(0,t.jsx)("label",{htmlFor:"password2",children:"Password confirmation"}),(0,t.jsx)("input",{id:"password2",type:"password",placeholder:"Password confirmation",name:"password2",onChange:b,required:!0})]}),(0,t.jsx)("div",{className:"form-field",children:(0,t.jsx)("button",{type:"submit",disabled:g,children:g?"Creating Account...":"Create Account"})})]}),(0,t.jsx)("p",{children:(0,t.jsxs)("small",{children:["Already have an account? ",(0,t.jsx)(i(),{href:"/auth/login",children:"Login"})]})})]})}},4832:(e,a,s)=>{"use strict";s.d(a,{$G:()=>t,Tr:()=>r});let t=(e,a)=>{if(document.cookie="session=".concat(e,"; path=/; max-age=2592000; secure; samesite=strict"),a){let e=JSON.stringify(a);document.cookie="userData=".concat(encodeURIComponent(e),"; path=/; max-age=2592000; secure; samesite=strict")}},r=()=>{document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure; samesite=strict",document.cookie="userData=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure; samesite=strict"}},5048:(e,a,s)=>{Promise.resolve().then(s.bind(s,1983))},8005:(e,a,s)=>{"use strict";s.d(a,{I:()=>n,j:()=>l});var t=s(6203),r=s(3915),i=s(858);let o=(0,r.Wp)({apiKey:"AIzaSyAAT8O0cABWT6UiUWW7bCjRuaL31tQQHns",authDomain:"fullstack18-cbdec.firebaseapp.com",projectId:"fullstack18-cbdec",storageBucket:"fullstack18-cbdec.firebasestorage.app",messagingSenderId:"95967066938",appId:"1:95967066938:web:23ee5b772ab37bc45b6e03"}),l=(0,t.xI)(o),n=(0,i.c7)(o)}},e=>{var a=a=>e(e.s=a);e.O(0,[6711,7158,5643,6874,8441,1684,7358],()=>a(5048)),_N_E=e.O()}]);