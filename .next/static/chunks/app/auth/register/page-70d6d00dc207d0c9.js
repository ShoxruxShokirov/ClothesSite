(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{1983:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(5155),s=a(6874),l=a.n(s),n=a(6203),o=a(2115),i=a(8005),c=a(5799),d=a(5695),u=a(858),m=a(9911),p=a(4832);let h=function(){let[e,t]=(0,o.useState)({firstName:"",lastName:"",email:"",password:"",password2:""}),[a,s]=(0,o.useState)(null),[h,f]=(0,o.useState)(null),[g,j]=(0,o.useState)(!1),x=(0,o.useRef)(null),b=(0,d.useRouter)();function w(a){t({...e,[a.target.name]:a.target.value})}async function y(t){t.preventDefault(),j(!0);try{for(let t in e)if(""===e[t]){c.oR.error("Please fill in ".concat(t.replace(/([A-Z])/g," $1").toLowerCase()),{theme:"dark"}),j(!1);return}if(e.password!==e.password2){c.oR.error("Passwords do not match",{theme:"dark"}),j(!1);return}let t=(await (0,n.eJ)(i.j,e.email,e.password)).user,r="".concat(e.firstName," ").concat(e.lastName),s=null;if(a){let e=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;return new Promise(s=>{let l=new Image;l.src=URL.createObjectURL(e),l.onload=()=>{let n=document.createElement("canvas"),o=l.width,i=l.height;o>i?o>t&&(i=Math.round(i*t/o),o=t):i>a&&(o=Math.round(o*a/i),i=a),n.width=o,n.height=i,n.getContext("2d").drawImage(l,0,0,o,i),n.toBlob(e=>{URL.revokeObjectURL(l.src),s(e)},e.type,r)}})}(a),r=(0,u.KR)(i.I,"profile_photos/".concat(t.uid)),l=(0,u.bp)(r,e);await new Promise((e,t)=>{l.on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")},e=>{console.error("Upload error:",e),t(e)},async()=>{s=await (0,u.qk)(l.snapshot.ref),e()})})}await (0,n.r7)(t,{displayName:r,photoURL:s||null});let l={displayName:r,email:e.email,photoURL:s||null,emailVerified:t.emailVerified};(0,p.$G)(t.uid,l),c.oR.success("Account created successfully!",{theme:"dark"}),b.push("/")}catch(e){console.error("Registration error:",e),c.oR.error(e.message,{theme:"dark"})}finally{j(!1)}}return(0,r.jsxs)("div",{className:"auth-container auth-signup-container",children:[(0,r.jsx)("h1",{children:"Sign Up"}),(0,r.jsxs)("form",{onSubmit:y,children:[(0,r.jsxs)("div",{className:"photo-upload-container",children:[(0,r.jsx)("div",{className:"photo-preview",onClick:function(){x.current.click()},style:{backgroundImage:h?"url(".concat(h,")"):"none",cursor:"pointer"},children:!h&&(0,r.jsxs)("div",{className:"upload-icon",children:[(0,r.jsx)(m.HVe,{}),(0,r.jsx)("span",{children:"Upload Photo"})]})}),(0,r.jsx)("input",{type:"file",ref:x,onChange:function(e){let t=e.target.files[0];if(t){s(t);let e=new FileReader;e.onload=()=>{f(e.result)},e.readAsDataURL(t)}},accept:"image/*",style:{display:"none"}})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"firstName",children:"First Name"}),(0,r.jsx)("input",{id:"firstName",type:"text",placeholder:"First Name",name:"firstName",onChange:w,required:!0})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),(0,r.jsx)("input",{id:"lastName",type:"text",placeholder:"Last Name",name:"lastName",onChange:w,required:!0})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",placeholder:"Email",name:"email",onChange:w,required:!0})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",placeholder:"Password",name:"password",onChange:w,required:!0})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"password2",children:"Password confirmation"}),(0,r.jsx)("input",{id:"password2",type:"password",placeholder:"Password confirmation",name:"password2",onChange:w,required:!0})]}),(0,r.jsx)("div",{className:"form-field",children:(0,r.jsx)("button",{type:"submit",disabled:g,children:g?"Creating Account...":"Create Account"})})]}),(0,r.jsx)("p",{children:(0,r.jsxs)("small",{children:["Already have an account? ",(0,r.jsx)(l(),{href:"/auth/login",children:"Login"})]})})]})}},4832:(e,t,a)=>{"use strict";a.d(t,{$G:()=>r,Tr:()=>s});let r=(e,t)=>{if(document.cookie="session=".concat(e,"; path=/; max-age=2592000; secure; samesite=strict"),t){let e=JSON.stringify(t);document.cookie="userData=".concat(encodeURIComponent(e),"; path=/; max-age=2592000; secure; samesite=strict")}},s=()=>{document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure; samesite=strict",document.cookie="userData=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure; samesite=strict"}},5048:(e,t,a)=>{Promise.resolve().then(a.bind(a,1983))},6654:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=a(2115);function s(e,t){let a=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=a.current;e&&(a.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(a.current=l(e,r)),t&&(s.current=l(t,r))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let a=e(t);return"function"==typeof a?a:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8005:(e,t,a)=>{"use strict";a.d(t,{I:()=>i,j:()=>o});var r=a(6203),s=a(3915),l=a(858);let n=(0,s.Wp)({apiKey:"AIzaSyAAT8O0cABWT6UiUWW7bCjRuaL31tQQHns",authDomain:"fullstack18-cbdec.firebaseapp.com",projectId:"fullstack18-cbdec",storageBucket:"fullstack18-cbdec.firebasestorage.app",messagingSenderId:"95967066938",appId:"1:95967066938:web:23ee5b772ab37bc45b6e03"}),o=(0,r.xI)(n),i=(0,l.c7)(n)}},e=>{var t=t=>e(e.s=t);e.O(0,[6711,7158,5799,6874,5789,8441,1684,7358],()=>t(5048)),_N_E=e.O()}]);